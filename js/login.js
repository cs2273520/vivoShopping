"use strict";var username=document.querySelector("#username"),password=document.querySelector("#password"),form=document.querySelector(".form-horizontal"),false1=document.querySelector("#false1");form.onsubmit=function(){window.event.preventDefault(),pAjax({type:"post",url:"../api/login.php",data:{username:username.value,password:password.value}}).then(function(e){e=JSON.parse(e);var a=/^[a-zA-Z0-9_-]{4,8}$/.test(username.value),r=/^[a-zA-Z0-9_-]{4,8}$/.test(password.value);a&&""!=a.value&&r&&""!=r?1==e.code?(alert("登录成功！"),setCookie("login",username.value),(e=localStorage.getItem("url"))?(location.href=e,localStorage.removeItem("url")):location.href="../index.html"):alert("用户名或者密码错误！"):false1.innerHTML="用户名或者密码格式不对"})};